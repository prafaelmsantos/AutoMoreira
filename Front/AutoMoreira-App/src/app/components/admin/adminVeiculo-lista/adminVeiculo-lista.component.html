

<div class="card rounded shadow-sm p-3">

  <div class="d-flex">
    <div class="flex-fill pr-3">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">Filtro: </div>
        </div>
        <input type="text"
        class="form-control col-2"
        placeholder="Pesquisar" [(ngModel)]="filtroLista" >
      </div>
    </div>
  </div>

  <!-- Form para fazer uma pesquisa -->
<div class="container">
  <div class="card mt-5" style="background-color: #B5B6B9;">

    <div class="card-body mt-3">
      <form method="" action="viaturas.php">
        <div class="row">

        <div class="col-12 col-md-6 col-lg-4">
        <select class="form-select mb-3" aria-label="Escolha da marca" name="pmarca" id="pmarca">
          <option selected value="0">Marca</option>

            <option value="">opção</option>

        </select>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <select class="form-select mb-4" aria-label="Escolha do modelo"  name="pmodelo" id="pmodelo">
          <option selected value="0">Modelo</option>

            <option class="options-modelos" value="" data-idmarca="">modelo</option>

        </select>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <select class="form-select mb-3" aria-label="Escolha do Combustivel" name="pcombustivel">
          <option selected value="0">Combustivel</option>

            <option value="" id="pcombustivel" >Combustivel</option>


        </select>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <select class="form-select mb-3" aria-label="Escolha do Ano" name="pano">
          <option selected value="0">Ano</option>
            <option value="" id="pano" >Ano</option>

        </select>
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <input class="form-control mb-3" type="text" value="" name="pprecomin" placeholder="Preço min">
      </div>
      <div class="col-12 col-md-6 col-lg-4">
        <input class="form-control mb-3" type="text" value="" name="pprecomax" placeholder="Preço max">
      </div>

        <div class="form-group d-flex justify-content-end">
          <button class="btn btn-light mt-3 px-4 py-2" id="search-btn" type="submit">Procurar</button>
        </div>
        </div>
      </form>
    </div>
  </div>
</div>

  <!-- <h3>Filtro: {{filtroLista}}</h3> -->
  <table class="table table-striped mt-2">
    <thead class="table-dark">
      <tr>
        <th>
          <button class="btn btn-outline-light btn-sm" type="button"
          (click)="alterarEstadoImg()">
            <i class="{{exibirImg ? 'fa fa-eye' : 'fa fa-eye-slash'}}"></i>
            {{exibirImg ? 'exibir' : 'ocultar'}}
          </button>
        </th>
        <th>#</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Cor</th>
        <th>Ano</th>
        <th>Observações</th>
        <th>Opções</th>
      </tr>
    </thead>
    <tbody *ngIf="veiculos && veiculos.length">
      <tr *ngFor="let veiculo of veiculosFiltrados">
        <td>
            <img [collapse]="!exibirImg" [isAnimated]="true"
            src="assets/images/veiculos/{{veiculo.imagemURL}}"
            [style.width.px]="larguraImg"
            [style.margin.px]="margemImg" alt="">
        </td>
        <td>{{veiculo.veiculoId}}</td>
        <td>{{veiculo.marca.marcaNome}}</td>
        <td>{{veiculo.modelo.modeloNome}}</td>
        <td>{{veiculo.cor}}</td>
        <td>{{veiculo.ano}}</td>
        <td>{{veiculo.observacoes}}</td>
        <td>
          <button type="button" class="btn btn-primary btn-sm mx-2" tooltip="Editar" (click)="detalheEvento(veiculo.veiculoId)">
            <i class="fa fa-edit"></i>
          </button>
          <button type="button" class="btn btn-danger btn-sm" tooltip="Excluir" (click)="openModal(template)">
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
    <tfoot *ngIf="!veiculos.length">
      <tr>
        <td colSpan="8" class="text-center">
          <h5 class="mt-3">Nenhum veiculo encontrado!</h5>
        </td>
      </tr>
    </tfoot>
  </table>

</div>

<!-- {{eventos | json}} -->

<ng-template #template>
  <div class="modal-body text-center">
    <p>Tem certeza que quer deletar este Veiculo?</p>
    <button type="button" class="btn btn-default" (click)="confirm()">Sim</button>
    <button type="button" class="btn btn-primary" (click)="decline()">Não</button>
  </div>
</ng-template>



<!-- Imprimir Db Angular estatica
<p><b>Tema1:</b> {{eventos[0].Tema}}</p>
<p><b>Local1:</b> {{eventos[0].Local}}</p>
-->

<!-- Primeira diretiva estrutural - Ngfor (bind e interpolação)
<div *ngFor="let evento of eventos"> ngfor uma diretiva. evento e eventos são binds
  <hr>
  <p><b>Tema:</b> {{evento.tema}}</p> //é uma interpolação
  <p><b>Local:</b> {{evento.local}}</p>

</div>
-->
<!--
Nota:

Diretivas estruturais
*ngif
*ngFor
...

Binding e Interpolações
{{eventos[0].imagemURL}}
{{eventos[0].imagemURL +1}} concatenação

{{eventos | json}} mostra a lista toda
{{eventos[0] | json}} mostra o primeiro da lista


-->
